<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="AR Door Viewer - –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –¥–≤–µ—Ä–µ–π –≤ –¥–æ–ø–æ–ª–Ω–µ–Ω–Ω–æ–π —Ä–µ–∞–ª—å–Ω–æ—Å—Ç–∏">
    <title>AR Door Viewer - –î–æ–ø–æ–ª–Ω–µ–Ω–Ω–∞—è —Ä–µ–∞–ª—å–Ω–æ—Å—Ç—å –¥–ª—è –¥–≤–µ—Ä–µ–π</title>
    
    <!-- –°—Ç–∏–ª–∏ -->
    <link rel="stylesheet" href="assets/css/ar_styles.css">
    
    <!-- TensorFlow.js -->
    <script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs@4.15.0"></script>
    <script src="https://cdn.jsdelivr.net/npm/@tensorflow-models/coco-ssd@2.2.3"></script>
    
    <!-- Three.js -->
    <script src="https://cdn.jsdelivr.net/npm/three@0.160.0/build/three.min.js"></script>
</head>
<body>
    <!-- –°—Ç–∞—Ä—Ç–æ–≤—ã–π —ç–∫—Ä–∞–Ω -->
    <div id="startScreen" class="screen active">
        <div class="start-container">
            <div class="logo">
                <svg width="80" height="80" viewBox="0 0 80 80" fill="none">
                    <rect x="10" y="20" width="60" height="40" stroke="#2196F3" stroke-width="2" fill="none"/>
                    <circle cx="40" cy="40" r="8" fill="#2196F3"/>
                    <path d="M20 30 L30 40 L20 50" stroke="#FF5722" stroke-width="2" fill="none"/>
                </svg>
            </div>
            <h1>AR Door Viewer</h1>
            <p>–í–∏–∑—É–∞–ª–∏–∑–∏—Ä—É–π—Ç–µ –¥–≤–µ—Ä–∏ –≤ –¥–æ–ø–æ–ª–Ω–µ–Ω–Ω–æ–π —Ä–µ–∞–ª—å–Ω–æ—Å—Ç–∏</p>
            
            <div class="features">
                <div class="feature">
                    <span class="icon">üì∑</span>
                    <span>–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏–µ –ø—Ä–æ–µ–º–æ–≤</span>
                </div>
                <div class="feature">
                    <span class="icon">üö™</span>
                    <span>–†–µ–∞–ª–∏—Å—Ç–∏—á–Ω–∞—è 3D-–≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è</span>
                </div>
                <div class="feature">
                    <span class="icon">‚ö°</span>
                    <span>–†–∞–±–æ—Ç–∞–µ—Ç –≤ –±—Ä–∞—É–∑–µ—Ä–µ</span>
                </div>
            </div>
            
            <button id="startARBtn" class="btn btn-primary btn-large">
                <span class="btn-icon">üì∑</span>
                –ó–∞–ø—É—Å—Ç–∏—Ç—å AR
            </button>
            
            <div class="system-requirements">
                <h3>–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è:</h3>
                <ul>
                    <li>‚úì –ë—Ä–∞—É–∑–µ—Ä —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π WebGL</li>
                    <li>‚úì –î–æ—Å—Ç—É–ø –∫ –∫–∞–º–µ—Ä–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞</li>
                    <li>‚úì –ò–Ω—Ç–µ—Ä–Ω–µ—Ç-—Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ</li>
                </ul>
            </div>
        </div>
    </div>

    <!-- AR —ç–∫—Ä–∞–Ω -->
    <div id="arScreen" class="screen">
        <!-- –í–∏–¥–µ–æ —Å –∫–∞–º–µ—Ä—ã -->
        <video id="videoElement" autoplay playsinline muted></video>
        
        <!-- Canvas –¥–ª—è Three.js -->
        <canvas id="arCanvas"></canvas>
        
        <!-- –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä —Å—Ç–∞—Ç—É—Å–∞ -->
        <div id="statusIndicator" class="status-indicator">
            <div class="status-dot"></div>
            <span id="statusText">–ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è...</span>
        </div>
        
        <!-- –ü–æ–¥—Å–∫–∞–∑–∫–∞ –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è -->
        <div id="userHint" class="user-hint">
            <span id="hintText">–ù–∞–≤–µ–¥–∏—Ç–µ –∫–∞–º–µ—Ä—É –Ω–∞ –¥–≤–µ—Ä–Ω–æ–π –ø—Ä–æ–µ–º</span>
        </div>
        
        <!-- –ü–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è -->
        <div class="control-panel">
            <!-- –ì–∞–ª–µ—Ä–µ—è –º–æ–¥–µ–ª–µ–π -->
            <div class="models-carousel">
                <div class="carousel-container">
                    <div id="modelsGallery" class="models-gallery">
                        <!-- –ú–æ–¥–µ–ª–∏ –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª–µ–Ω—ã –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
                    </div>
                </div>
            </div>
            
            <!-- –ö–Ω–æ–ø–∫–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è -->
            <div class="control-buttons">
                <button id="screenshotBtn" class="btn btn-icon" title="–°–¥–µ–ª–∞—Ç—å —Å–∫—Ä–∏–Ω—à–æ—Ç">
                    <span>üì∏</span>
                </button>
                <button id="settingsBtn" class="btn btn-icon" title="–ù–∞—Å—Ç—Ä–æ–π–∫–∏">
                    <span>‚öôÔ∏è</span>
                </button>
                <button id="exitARBtn" class="btn btn-icon btn-danger" title="–í—ã—Ö–æ–¥">
                    <span>‚úï</span>
                </button>
            </div>
        </div>
        
        <!-- –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω–∞—è –ø–∞–Ω–µ–ª—å -->
        <div id="infoPanel" class="info-panel">
            <div class="info-item">
                <span class="label">FPS:</span>
                <span id="fpsCounter" class="value">0</span>
            </div>
            <div class="info-item">
                <span class="label">–ú–æ–¥–µ–ª—å:</span>
                <span id="modelName" class="value">-</span>
            </div>
        </div>
    </div>

    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –Ω–∞—Å—Ç—Ä–æ–µ–∫ -->
    <div id="settingsModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>–ù–∞—Å—Ç—Ä–æ–π–∫–∏</h2>
                <button class="modal-close">&times;</button>
            </div>
            <div class="modal-body">
                <div class="setting-group">
                    <label for="qualitySlider">–ö–∞—á–µ—Å—Ç–≤–æ —Ä–µ–Ω–¥–µ—Ä–∞:</label>
                    <input type="range" id="qualitySlider" min="0.5" max="1" step="0.1" value="1">
                    <span id="qualityValue">100%</span>
                </div>
                
                <div class="setting-group">
                    <label for="brightnessSlider">–Ø—Ä–∫–æ—Å—Ç—å –º–æ–¥–µ–ª–∏:</label>
                    <input type="range" id="brightnessSlider" min="0.5" max="2" step="0.1" value="1">
                    <span id="brightnessValue">100%</span>
                </div>
                
                <div class="setting-group">
                    <label>
                        <input type="checkbox" id="showDebugInfo" checked>
                        –ü–æ–∫–∞–∑—ã–≤–∞—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ—Ç–ª–∞–¥–∫–∏
                    </label>
                </div>
                
                <div class="setting-group">
                    <label>
                        <input type="checkbox" id="enableShadows">
                        –í–∫–ª—é—á–∏—Ç—å —Ç–µ–Ω–∏
                    </label>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn btn-secondary modal-close">–ó–∞–∫—Ä—ã—Ç—å</button>
            </div>
        </div>
    </div>

    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –æ—à–∏–±–∫–∏ -->
    <div id="errorModal" class="modal">
        <div class="modal-content modal-error">
            <div class="modal-header">
                <h2>‚ö†Ô∏è –û—à–∏–±–∫–∞</h2>
            </div>
            <div class="modal-body">
                <p id="errorMessage"></p>
            </div>
            <div class="modal-footer">
                <button id="errorRetryBtn" class="btn btn-primary">–ü–æ–≤—Ç–æ—Ä–∏—Ç—å</button>
                <button id="errorExitBtn" class="btn btn-secondary">–í—ã—Ö–æ–¥</button>
            </div>
        </div>
    </div>

    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –∑–∞–≥—Ä—É–∑–∫–∏ -->
    <div id="loadingModal" class="modal modal-loading">
        <div class="modal-content">
            <div class="spinner"></div>
            <p id="loadingText">–ó–∞–≥—Ä—É–∑–∫–∞...</p>
        </div>
    </div>

    <!-- –°–∫—Ä–∏–ø—Ç—ã –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è -->
    <script src="assets/js/config.js"></script>
    <script src="assets/js/camera_handler.js"></script>
    <script src="assets/js/ml_detector.js"></script>
    <script src="assets/js/scene_manager.js"></script>
    <script src="assets/js/ui_controller.js"></script>
    <script src="assets/js/ar_engine.js"></script>
</body>
</html>
